import{u}from"./app-DnzmmtuR.js";import h from"./ChargeToTablePopup-D-3ZikAK.js";import d from"./PosChargePopup-Bmu6P3O9.js";import S from"./VoucherPaymentPopup-Br4bEHQK.js";import m from"./EndSalePopup-BIcaQSNw.js";import{d as C,r as p,o as P,b,e as t,a as s}from"./index-ZGvUUgVD.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./forwardRefs-8bab2Th6.js";import"./VDialog-DHugggH1.js";import"./VTextField-Dfans7gF.js";import"./VInput-0BGh4KnQ.js";const T=C({name:"ChargeButtons",components:{ChargeToTablePopup:h,PosChargePopup:d,VoucherPaymentPopup:S,EndSalePopup:m},data:()=>({isShowChargeToTablePopup:!1,isShowEFTPOS:!1,isShowVoucherPopup:!1,isShowEndSalePopup:!1}),computed:{appStore:()=>u()},methods:{chargeToTable(){Object.keys(this.appStore.currentBill.itemList).length>0&&(this.appStore.currentBill.tableName?this.appStore.chargeToTable(this.appStore.currentBill.tableName):this.isShowChargeToTablePopup=!0)},onChargeEFTPOSCompleted(e){if(this.isShowEFTPOS=!1,e){const o=this.appStore.getClipboardNumber(0);o>0&&(this.appStore.addCash(o),this.appStore.clearClipboard()),this.isShowEndSalePopup=!0}else this.appStore.clearClipboard()},endSale(){this.isShowEndSalePopup=!0},clearCurrentSale(){this.appStore.endSale(),this.isShowEndSalePopup=!1},chargeByCash(){this.appStore.clipboard.value===""?(this.appStore.resetAccummulatedCash(),this.appStore.addCash(this.appStore.totalCurrentBill-this.appStore.voucherCharge),this.endSale()):(this.appStore.addCash(this.appStore.getClipboardNumber(0)),this.appStore.clearClipboard(),this.appStore.accummulatedCash+this.appStore.voucherCharge>=this.appStore.totalCurrentBill&&this.endSale())}}}),f={class:"cash-buttons"},c={class:"tile-button"},V={class:"tile-button"},w={class:"tile-button"},E={class:"tile-button"};function B(e,o,v,O,y,F){const l=p("ChargeToTablePopup"),r=p("PosChargePopup"),i=p("VoucherPaymentPopup"),n=p("EndSalePopup");return P(),b("div",f,[t("div",c,[t("button",{class:"charge",onClick:o[0]||(o[0]=(...a)=>e.chargeToTable&&e.chargeToTable(...a))},"Charge to table")]),t("div",V,[t("button",{class:"charge",onClick:o[1]||(o[1]=()=>e.isShowVoucherPopup=!0)},"Other payment")]),t("div",w,[t("button",{class:"charge",onClick:o[2]||(o[2]=()=>e.isShowEFTPOS=!0)},"EFTPOS")]),t("div",E,[t("button",{class:"charge",onClick:o[3]||(o[3]=(...a)=>e.chargeByCash&&e.chargeByCash(...a))},"Cash")]),s(l,{modelValue:e.isShowChargeToTablePopup,"onUpdate:modelValue":o[4]||(o[4]=a=>e.isShowChargeToTablePopup=a),onClose:o[5]||(o[5]=()=>e.isShowChargeToTablePopup=!1)},null,8,["modelValue"]),s(r,{modelValue:e.isShowEFTPOS,"onUpdate:modelValue":o[6]||(o[6]=a=>e.isShowEFTPOS=a),onClose:e.onChargeEFTPOSCompleted},null,8,["modelValue","onClose"]),s(i,{modelValue:e.isShowVoucherPopup,"onUpdate:modelValue":o[7]||(o[7]=a=>e.isShowVoucherPopup=a),onClose:o[8]||(o[8]=()=>e.isShowVoucherPopup=!1)},null,8,["modelValue"]),s(n,{modelValue:e.isShowEndSalePopup,"onUpdate:modelValue":o[9]||(o[9]=a=>e.isShowEndSalePopup=a),onClose:e.clearCurrentSale},null,8,["modelValue","onClose"])])}const G=g(T,[["render",B],["__scopeId","data-v-b1cefcd9"]]);export{G as default};
