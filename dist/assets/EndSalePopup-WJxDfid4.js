import{u as h}from"./app-C9Y8toNn.js";import{d as f,p as g,J as C,K as v,L as c,j as V,M as b,y,a as o,H as S,o as P,c as T,w as s,e as t,t as r}from"./index-Dygu1tgH.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{m as w,u as x,V as B,a as F,b as k,c as D,e as E}from"./forwardRefs-CdG249-j.js";import{V as H}from"./VDialog-lw33TGEg.js";const N=f({name:"EndSalePopup",props:{modelValue:{type:Boolean,default:!1}},data:()=>({message:"",allowClose:!1}),computed:{appStore:()=>h(),total(){return this.appStore.totalCurrentBill},cash(){return this.appStore.accummulatedCash},eft(){return this.appStore.eftposCharge},voucher(){return this.appStore.voucherCharge},change(){return this.appStore.totalCharge-this.appStore.totalCurrentBill}},watch:{modelValue(e){e&&this.simualatePurchase()}},methods:{onChanged(e){this.$emit("update:modelValue",e)},async simualatePurchase(){this.message="Waiting to purchase...",this.allowClose=!1,await new Promise(e=>{setTimeout(()=>{this.message="Purchased successfully!",this.allowClose=!0,e(!0)},2e3)})}}}),U=g({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...C(),...w(),...v(),...c()},"VTable"),j=V()({name:"VTable",props:U(),setup(e,a){let{slots:l,emit:m}=a;const{themeClasses:i}=b(e),{densityClasses:u}=x(e);return y(()=>o(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!l.top,"v-table--has-bottom":!!l.bottom,"v-table--hover":e.hover},i.value,u.value,e.class],style:e.style},{default:()=>{var n,d,p;return[(n=l.top)==null?void 0:n.call(l),l.default?o("div",{class:"v-table__wrapper",style:{height:S(e.height)}},[o("table",null,[l.default()])]):(d=l.wrapper)==null?void 0:d.call(l),(p=l.bottom)==null?void 0:p.call(l)]}})),{}}}),O={class:"d-flex justify-center"},A={class:"dialog-title__actions"};function I(e,a,l,m,i,u){return P(),T(H,{class:"popup-dialog",modelValue:e.modelValue,"onUpdate:modelValue":e.onChanged,persistent:!e.allowClose},{default:s(()=>[t("div",O,[o(E,null,{default:s(()=>[o(B,null,{default:s(()=>[a[1]||(a[1]=t("div",{class:"dialog-title__text"},"Charge review",-1)),t("div",A,[o(F,{class:"btn-close",onClick:a[0]||(a[0]=n=>e.$emit("close"))},{default:s(()=>[o(k,{icon:"mdi-close"})]),_:1})])]),_:1}),o(D,null,{default:s(()=>[o(j,{density:"compact"},{default:s(()=>[t("tbody",null,[t("tr",null,[a[2]||(a[2]=t("th",null,"Total: ",-1)),t("td",null,"$"+r(e.total.toFixed(2)),1)]),t("tr",null,[a[3]||(a[3]=t("th",null,"Other payment: ",-1)),t("td",null,"$"+r(e.voucher.toFixed(2)),1)]),t("tr",null,[a[4]||(a[4]=t("th",null,"Cash: ",-1)),t("td",null,"$"+r(e.cash.toFixed(2)),1)]),t("tr",null,[a[5]||(a[5]=t("th",null,"EFTPOS: ",-1)),t("td",null,"$"+r(e.eft.toFixed(2)),1)]),t("tr",null,[a[6]||(a[6]=t("th",null,"Change: ",-1)),t("td",null,"$"+r(e.change.toFixed(2)),1)])])]),_:1})]),_:1})]),_:1})])]),_:1},8,["modelValue","onUpdate:modelValue","persistent"])}const W=$(N,[["render",I]]);export{W as default};
