import{u as c}from"./app-BO9jPJId.js";import f from"./ChargeToTablePopup-CX1G0UFz.js";import g from"./PosChargePopup-BmSJuzmL.js";import v from"./VoucherPaymentPopup-D1YMshne.js";import w from"./EndSalePopup-BFIphxkK.js";import T from"./AddNotePopup-D_s2QXwl.js";import V from"./ReceiptPopup-WHnjBw9_.js";import N from"./NoSalePopup-BKa1ineg.js";import{d as k,r as l,o as i,b as p,h as B,F as n,i as u,e as s,a,t as r,j as E}from"./index-C7XOyTba.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./forwardRefs-DXm5PALB.js";import"./VDialog-0-slnfx6.js";import"./VTextField-1HTM_Vkf.js";import"./VInput-DgURHLWr.js";import"./BillItemTable-DO16gXEA.js";const O=k({name:"Functions",components:{ChargeToTablePopup:f,PosChargePopup:g,VoucherPaymentPopup:v,EndSalePopup:w,AddNotePopup:T,ReceiptPopup:V,NoSalePopup:N},emits:["logOff"],data:()=>({cashTypes:[{value:100},{value:50,image:"url(./images/aud-50.jpg)"},{value:20,image:"url(./images/aud-20.jpg)"},{value:10,image:"url(./images/aud-10.jpg)"}],isShowChargeToTablePopup:!1,isShowEFTPOS:!1,isShowVoucherPopup:!1,isShowEndSalePopup:!1,isShowAddNotePopup:!1,isShowReceiptPopup:!1,isShowNoSalePopup:!1}),computed:{appStore:()=>c(),menu(){return this.appStore.menu},clipboard(){return this.appStore.clipboard}},methods:{appendToClipboard(e){this.appStore.clipboard.type!=="Amount"&&this.appStore.clearClipboard(),e==="."&&this.clipboard.value===""&&(e="0.");const o=`${this.clipboard.value}${e}`;o.match(/^\d+(\.\d*)?$/)?this.appStore.setClipboard("Amount",o):this.appStore.clearClipboard()},logOff(){this.$emit("logOff")},cancelItem(){this.appStore.removeSelectedItemFromCurrentBill()},chargeToTable(){Object.keys(this.appStore.currentBill.itemList).length>0&&(this.appStore.currentBill.tableName?this.appStore.chargeToTable(this.appStore.currentBill.tableName):this.isShowChargeToTablePopup=!0)},addCash(e){this.appStore.totalCurrentBill>0&&(this.appStore.addCash(e),this.appStore.setClipboard("Cash",this.appStore.accummulatedCash.toString()),this.appStore.accummulatedCash+this.appStore.voucherCharge>=this.appStore.totalCurrentBill&&this.endSale())},endSale(){this.isShowEndSalePopup=!0},clearCurrentSale(){this.appStore.endSale(),this.isShowEndSalePopup=!1},onChargeEFTPOSCompleted(){this.isShowEFTPOS=!1;const e=this.appStore.getClipboardNumber(0);e>0&&(this.appStore.addCash(e),this.appStore.clearClipboard()),this.isShowEndSalePopup=!0},chargeByCash(){this.appStore.resetAccummulatedCash(),this.appStore.addCash(this.appStore.totalCurrentBill-this.appStore.voucherCharge),this.endSale()},showAddNotePopup(){this.appStore.selectedBillItem&&(this.isShowAddNotePopup=!0)},addNoteToItem(e){this.appStore.selectedBillItem&&(this.appStore.currentBill.itemList[this.appStore.selectedBillItem].note=e,this.isShowAddNotePopup=!1)},showPrintReceiptPopup(){this.isShowReceiptPopup=!0},cancelSale(){this.appStore.setCurrentBill({tableName:"",itemList:{}})}}}),F={class:"functions"},y={class:"tile-button"},I=["onClick"],R={class:"tile-button"},$={class:"tile-button"},U={class:"tile-button"},j={class:"tile-button"},L={class:"tile-button"},z={class:"number-cash-buttons"},D={class:"number-buttons"},G={class:"tile-button"},M=["onClick"],q={class:"tile-button"},H={class:"tile-button"},J={class:"tile-button"},K={class:"cash-buttons"},Q={class:"tile-button"},W={class:"tile-button"},X={class:"tile-button"},Y={class:"tile-button"};function Z(e,o,_,x,oo,eo){const d=l("ChargeToTablePopup"),m=l("PosChargePopup"),S=l("VoucherPaymentPopup"),h=l("EndSalePopup"),b=l("AddNotePopup"),P=l("ReceiptPopup"),C=l("NoSalePopup");return i(),p("div",F,[o[24]||(o[24]=B('<div class="tile-button" data-v-ecaa9140><button class="search-sgl" data-v-ecaa9140>Search Beer SGL</button></div><div class="tile-button grid-item-extend-x" data-v-ecaa9140><button class="member-search" data-v-ecaa9140>Member Search</button></div><div class="tile-button" data-v-ecaa9140><button class="senior-discount" data-v-ecaa9140>Seniors Discount</button></div>',3)),(i(!0),p(n,null,u(e.cashTypes,t=>(i(),p("div",y,[s("button",{class:"charge",style:E(t.image?{background:t.image,backgroundSize:"100% 100%",color:"transparent"}:{}),onClick:()=>e.addCash(t.value)},r(t.value),13,I)]))),256)),s("div",R,[s("button",{class:"function",onClick:o[0]||(o[0]=(...t)=>e.logOff&&e.logOff(...t))},"log off")]),o[25]||(o[25]=s("div",{class:"tile-button"},[s("button",{class:"function"},"hold sale")],-1)),s("div",$,[s("button",{class:"function",onClick:o[1]||(o[1]=(...t)=>e.showAddNotePopup&&e.showAddNotePopup(...t))},"free text")]),s("div",U,[s("button",{class:"function",onClick:o[2]||(o[2]=(...t)=>e.showPrintReceiptPopup&&e.showPrintReceiptPopup(...t))},"reprint receipt")]),s("div",j,[s("button",{class:"function",onClick:o[3]||(o[3]=(...t)=>e.cancelItem&&e.cancelItem(...t))},"cancel item")]),s("div",L,[s("button",{class:"function",onClick:o[4]||(o[4]=(...t)=>e.cancelSale&&e.cancelSale(...t))},"cancel sale")]),o[26]||(o[26]=s("div",{class:"tile-button"},[s("button",{class:"function"},"refund (-)")],-1)),o[27]||(o[27]=s("div",{class:"tile-button"},[s("button",{class:"function"},"search items")],-1)),s("div",z,[s("div",D,[(i(),p(n,null,u([7,8,9,4,5,6,1,2,3],t=>s("div",G,[s("button",{class:"number",onClick:()=>e.appendToClipboard(t.toString())},r(t),9,M)])),64)),s("div",q,[s("button",{class:"charge no-sale",onClick:o[5]||(o[5]=t=>e.isShowNoSalePopup=!0)},"No sale")]),s("div",H,[s("button",{class:"number",onClick:o[6]||(o[6]=()=>e.appendToClipboard("0"))},"0")]),s("div",J,[s("button",{class:"number",onClick:o[7]||(o[7]=()=>e.appendToClipboard("."))},".")])]),s("div",K,[s("div",Q,[s("button",{class:"charge",onClick:o[8]||(o[8]=(...t)=>e.chargeToTable&&e.chargeToTable(...t))},"Charge to table")]),s("div",W,[s("button",{class:"charge",onClick:o[9]||(o[9]=()=>e.isShowVoucherPopup=!0)},"Other payment")]),s("div",X,[s("button",{class:"charge",onClick:o[10]||(o[10]=()=>e.isShowEFTPOS=!0)},"EFTPOS")]),s("div",Y,[s("button",{class:"charge",onClick:o[11]||(o[11]=(...t)=>e.chargeByCash&&e.chargeByCash(...t))},"Cash")])])]),a(d,{modelValue:e.isShowChargeToTablePopup,"onUpdate:modelValue":o[12]||(o[12]=t=>e.isShowChargeToTablePopup=t),onClose:o[13]||(o[13]=()=>e.isShowChargeToTablePopup=!1)},null,8,["modelValue"]),a(m,{modelValue:e.isShowEFTPOS,"onUpdate:modelValue":o[14]||(o[14]=t=>e.isShowEFTPOS=t),onClose:e.onChargeEFTPOSCompleted},null,8,["modelValue","onClose"]),a(S,{modelValue:e.isShowVoucherPopup,"onUpdate:modelValue":o[15]||(o[15]=t=>e.isShowVoucherPopup=t),onClose:o[16]||(o[16]=()=>e.isShowVoucherPopup=!1)},null,8,["modelValue"]),a(h,{modelValue:e.isShowEndSalePopup,"onUpdate:modelValue":o[17]||(o[17]=t=>e.isShowEndSalePopup=t),onClose:e.clearCurrentSale},null,8,["modelValue","onClose"]),a(b,{modelValue:e.isShowAddNotePopup,"onUpdate:modelValue":o[18]||(o[18]=t=>e.isShowAddNotePopup=t),onSubmit:e.addNoteToItem,onClose:o[19]||(o[19]=()=>e.isShowAddNotePopup=!1)},null,8,["modelValue","onSubmit"]),a(P,{modelValue:e.isShowReceiptPopup,"onUpdate:modelValue":o[20]||(o[20]=t=>e.isShowReceiptPopup=t),onClose:o[21]||(o[21]=()=>e.isShowReceiptPopup=!1)},null,8,["modelValue"]),a(C,{modelValue:e.isShowNoSalePopup,"onUpdate:modelValue":o[22]||(o[22]=t=>e.isShowNoSalePopup=t),onClose:o[23]||(o[23]=()=>e.isShowNoSalePopup=!1)},null,8,["modelValue"])])}const co=A(O,[["render",Z],["__scopeId","data-v-ecaa9140"]]);export{co as default};
