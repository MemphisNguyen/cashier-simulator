import{u as f}from"./app-DQwuvZZo.js";import g from"./ChargeToTablePopup-BgCEb7OW.js";import w from"./PosChargePopup-Bo9bv8tN.js";import v from"./VoucherPaymentPopup-s_p_zW37.js";import T from"./EndSalePopup-CrHZuOUN.js";import V from"./AddNotePopup-4BNfRnfW.js";import N from"./ReceiptPopup-DDGXQOPU.js";import k from"./NoSalePopup-BqPiYWpa.js";import{d as B,r as p,o as i,b as n,e as t,F as a,h as u,a as s,t as r,i as E}from"./index-MrUsa1Ee.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./forwardRefs-SbvKWCAF.js";import"./VDialog-BDDm64Fh.js";import"./VTextField-DrwEnI95.js";import"./VInput-DB1zXIeL.js";import"./BillItemTable-AmT2wYxw.js";const O=B({name:"Functions",components:{ChargeToTablePopup:g,PosChargePopup:w,VoucherPaymentPopup:v,EndSalePopup:T,AddNotePopup:V,ReceiptPopup:N,NoSalePopup:k},emits:["logOff"],data:()=>({cashTypes:[{value:100},{value:50,image:"url(./images/aud-50.jpg)"},{value:20,image:"url(./images/aud-20.jpg)"},{value:10,image:"url(./images/aud-10.jpg)"}],isShowChargeToTablePopup:!1,isShowEFTPOS:!1,isShowVoucherPopup:!1,isShowEndSalePopup:!1,isShowAddNotePopup:!1,isShowReceiptPopup:!1,isShowNoSalePopup:!1}),computed:{appStore:()=>f(),menu(){return this.appStore.menu},clipboard(){return this.appStore.clipboard}},methods:{appendToClipboard(e){this.appStore.clipboard.type!=="Amount"&&this.appStore.clearClipboard(),e==="."&&this.clipboard.value===""&&(e="0.");const o=`${this.clipboard.value}${e}`;o.match(/^\d+(\.\d*)?$/)?this.appStore.setClipboard("Amount",o):this.appStore.clearClipboard()},logOff(){this.$emit("logOff")},cancelItem(){this.appStore.removeSelectedItemFromCurrentBill()},chargeToTable(){Object.keys(this.appStore.currentBill.itemList).length>0&&(this.appStore.currentBill.tableName?this.appStore.chargeToTable(this.appStore.currentBill.tableName):this.isShowChargeToTablePopup=!0)},addCash(e){this.appStore.totalCurrentBill>0&&(this.appStore.addCash(e),this.appStore.setClipboard("Cash",this.appStore.accummulatedCash.toString()),this.appStore.accummulatedCash+this.appStore.voucherCharge>=this.appStore.totalCurrentBill&&this.endSale())},endSale(){this.isShowEndSalePopup=!0},clearCurrentSale(){this.appStore.endSale(),this.isShowEndSalePopup=!1},onChargeEFTPOSCompleted(){this.isShowEFTPOS=!1;const e=this.appStore.getClipboardNumber(0);e>0&&(this.appStore.addCash(e),this.appStore.clearClipboard()),this.isShowEndSalePopup=!0},chargeByCash(){this.appStore.resetAccummulatedCash(),this.appStore.addCash(this.appStore.totalCurrentBill-this.appStore.voucherCharge),this.endSale()},showAddNotePopup(){this.appStore.selectedBillItem&&(this.isShowAddNotePopup=!0)},addNoteToItem(e){this.appStore.selectedBillItem&&(this.appStore.currentBill.itemList[this.appStore.selectedBillItem].note=e,this.isShowAddNotePopup=!1)},showPrintReceiptPopup(){this.isShowReceiptPopup=!0},cancelSale(){this.appStore.setCurrentBill({tableName:"",itemList:{}})}}}),c={class:"functions"},F=["onClick"],y={class:"number-cash-buttons"},I={class:"number-buttons"},R=["onClick"],$={class:"cash-buttons"};function U(e,o,L,j,z,D){const d=p("ChargeToTablePopup"),m=p("PosChargePopup"),S=p("VoucherPaymentPopup"),h=p("EndSalePopup"),b=p("AddNotePopup"),P=p("ReceiptPopup"),C=p("NoSalePopup");return i(),n("div",c,[o[24]||(o[24]=t("div",null,[t("button",{class:"tile-button search-sgl"},"Search Beer SGL")],-1)),o[25]||(o[25]=t("div",{class:"grid-item-extend-x"},[t("button",{class:"tile-button member-search"},"Member Search")],-1)),o[26]||(o[26]=t("div",null,[t("button",{class:"tile-button senior-discount"},"Seniors Discount")],-1)),(i(!0),n(a,null,u(e.cashTypes,l=>(i(),n("div",null,[t("button",{class:"tile-button charge",style:E(l.image?{background:l.image,backgroundSize:"100% 100%",color:"transparent"}:{}),onClick:()=>e.addCash(l.value)},r(l.value),13,F)]))),256)),t("div",null,[t("button",{class:"tile-button function",onClick:o[0]||(o[0]=(...l)=>e.logOff&&e.logOff(...l))},"log off")]),o[27]||(o[27]=t("div",null,[t("button",{class:"tile-button function"},"hold sale")],-1)),t("div",null,[t("button",{class:"tile-button function",onClick:o[1]||(o[1]=(...l)=>e.showAddNotePopup&&e.showAddNotePopup(...l))},"free text")]),t("div",null,[t("button",{class:"tile-button function",onClick:o[2]||(o[2]=(...l)=>e.showPrintReceiptPopup&&e.showPrintReceiptPopup(...l))},"reprint receipt")]),t("div",null,[t("button",{class:"tile-button function",onClick:o[3]||(o[3]=(...l)=>e.cancelItem&&e.cancelItem(...l))},"cancel item")]),t("div",null,[t("button",{class:"tile-button function",onClick:o[4]||(o[4]=(...l)=>e.cancelSale&&e.cancelSale(...l))},"cancel sale")]),o[28]||(o[28]=t("div",null,[t("button",{class:"tile-button function"},"refund (-)")],-1)),o[29]||(o[29]=t("div",null,[t("button",{class:"tile-button function"},"search items")],-1)),t("div",y,[t("div",I,[(i(),n(a,null,u([7,8,9,4,5,6,1,2,3],l=>t("div",null,[t("button",{class:"tile-button number",onClick:()=>e.appendToClipboard(l.toString())},r(l),9,R)])),64)),t("div",null,[t("button",{class:"tile-button charge no-sale",onClick:o[5]||(o[5]=l=>e.isShowNoSalePopup=!0)},"No sale")]),t("div",null,[t("button",{class:"tile-button number",onClick:o[6]||(o[6]=()=>e.appendToClipboard("0"))},"0")]),t("div",null,[t("button",{class:"tile-button number",onClick:o[7]||(o[7]=()=>e.appendToClipboard("."))},".")])]),t("div",$,[t("div",null,[t("button",{class:"tile-button charge",onClick:o[8]||(o[8]=(...l)=>e.chargeToTable&&e.chargeToTable(...l))},"Charge to table")]),t("div",null,[t("button",{class:"tile-button charge",onClick:o[9]||(o[9]=()=>e.isShowVoucherPopup=!0)},"Other payment")]),t("div",null,[t("button",{class:"tile-button charge",onClick:o[10]||(o[10]=()=>e.isShowEFTPOS=!0)},"EFTPOS")]),t("div",null,[t("button",{class:"tile-button charge",onClick:o[11]||(o[11]=(...l)=>e.chargeByCash&&e.chargeByCash(...l))},"Cash")])])]),s(d,{modelValue:e.isShowChargeToTablePopup,"onUpdate:modelValue":o[12]||(o[12]=l=>e.isShowChargeToTablePopup=l),onClose:o[13]||(o[13]=()=>e.isShowChargeToTablePopup=!1)},null,8,["modelValue"]),s(m,{modelValue:e.isShowEFTPOS,"onUpdate:modelValue":o[14]||(o[14]=l=>e.isShowEFTPOS=l),onClose:e.onChargeEFTPOSCompleted},null,8,["modelValue","onClose"]),s(S,{modelValue:e.isShowVoucherPopup,"onUpdate:modelValue":o[15]||(o[15]=l=>e.isShowVoucherPopup=l),onClose:o[16]||(o[16]=()=>e.isShowVoucherPopup=!1)},null,8,["modelValue"]),s(h,{modelValue:e.isShowEndSalePopup,"onUpdate:modelValue":o[17]||(o[17]=l=>e.isShowEndSalePopup=l),onClose:e.clearCurrentSale},null,8,["modelValue","onClose"]),s(b,{modelValue:e.isShowAddNotePopup,"onUpdate:modelValue":o[18]||(o[18]=l=>e.isShowAddNotePopup=l),onSubmit:e.addNoteToItem,onClose:o[19]||(o[19]=()=>e.isShowAddNotePopup=!1)},null,8,["modelValue","onSubmit"]),s(P,{modelValue:e.isShowReceiptPopup,"onUpdate:modelValue":o[20]||(o[20]=l=>e.isShowReceiptPopup=l),onClose:o[21]||(o[21]=()=>e.isShowReceiptPopup=!1)},null,8,["modelValue"]),s(C,{modelValue:e.isShowNoSalePopup,"onUpdate:modelValue":o[22]||(o[22]=l=>e.isShowNoSalePopup=l),onClose:o[23]||(o[23]=()=>e.isShowNoSalePopup=!1)},null,8,["modelValue"])])}const to=A(O,[["render",U],["__scopeId","data-v-d4b42e6b"]]);export{to as default};
