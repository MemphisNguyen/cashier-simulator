import{u as d}from"./app-sB1IWpCA.js";import{d as n,o as a,c as o,w as t,e as l,a as i,g as r,t as p}from"./index-DoTamfAA.js";import{_ as m}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as c,c as f,a as u,e as h}from"./forwardRefs-Dlg8at3u.js";import{V as C}from"./VDialog-B0qAGlse.js";const V=n({name:"PosChargePopup",props:{modelValue:{type:Boolean,default:!1}},data:()=>({message:"",allowClose:!1,timeoutId:null,success:!1}),watch:{modelValue(e){e&&this.simulatePurchase()}},computed:{appStore:()=>d(),tableList(){return this.appStore.tableList}},methods:{onChanged(e){this.$emit("update:modelValue",e)},async simulatePurchase(){this.message="Waiting to purchase...",this.allowClose=!1,await new Promise(e=>{this.timeoutId=setTimeout(()=>{this.message="Purchased successfully!",this.allowClose=!0,this.success=!0,e(!0)},5e3)})},cancel(){this.timeoutId&&(clearTimeout(this.timeoutId),this.message="Purchase canceled",this.allowClose=!0)}}}),g={class:"d-flex justify-center"},P={class:"text-center pa-4"},w={class:"text-center"};function y(e,s,$,k,T,B){return a(),o(C,{class:"popup-dialog",modelValue:e.modelValue,"onUpdate:modelValue":e.onChanged,persistent:!e.allowClose},{default:t(()=>[l("div",g,[i(h,null,{default:t(()=>[i(c,null,{default:t(()=>s[1]||(s[1]=[r("EFTPOS")])),_:1}),i(f,{class:"table-list"},{default:t(()=>[l("div",P,p(e.message),1),l("div",w,[e.allowClose?(a(),o(u,{key:0,color:"primary",onClick:s[0]||(s[0]=S=>e.$emit("close",e.success))},{default:t(()=>s[2]||(s[2]=[r("Close")])),_:1})):(a(),o(u,{key:1,onClick:e.cancel},{default:t(()=>s[3]||(s[3]=[r("Cancel")])),_:1},8,["onClick"]))])]),_:1})]),_:1})])]),_:1},8,["modelValue","onUpdate:modelValue","persistent"])}const D=m(V,[["render",y]]);export{D as default};
