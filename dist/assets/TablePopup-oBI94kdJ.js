import{_ as u}from"./BillItemTable-D2cJ4zdq.js";import{u as b}from"./app-BkSPzRLz.js";import{d as h,o as i,b as d,a as l,w as s,e as a,F as T,h as f,g as r,c as _,f as c,n as V,t as p}from"./index-Br9qntu-.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{e as g,V as v,a as n,b as N,c as k}from"./forwardRefs-B4cOXIfo.js";import{V as w}from"./VDialog-CaCeG4bo.js";const B=h({name:"TablePopup",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","close","addNew"],data(){return{selectedTable:null,newTableName:""}},computed:{appStore:()=>b(),tableList(){return this.appStore.tableList},currentTableBill(){return this.selectedTable?this.tableList[this.selectedTable].itemList??{}:{}}},watch:{modelValue(e){e||(this.selectedTable=null,this.newTableName="")}},methods:{onChanged(e){this.$emit("update:modelValue",e),e===!1&&this.$emit("close")},selectTable(e){this.selectedTable=e},openAddNewTablePopup(){this.$emit("addNew")},bringToHomeScreen(){this.selectedTable&&this.tableList[this.selectedTable]&&(this.appStore.setCurrentBill(this.tableList[this.selectedTable]),this.$emit("close"))}}}),$={class:"dialog-title__actions"},L={class:"table-view"},y={class:"table-list"},S=["onClick"],P={class:"title"},A={class:"p-2 text-center"},I={key:0,class:"table-bill"},D={class:"table-bill-items"},F={class:"table-bill-actions"};function H(e,t,U,z,E,j){const m=u;return i(),d("div",null,[l(w,{class:"popup-dialog",height:"100%",modelValue:e.modelValue,"onUpdate:modelValue":e.onChanged},{default:s(()=>[l(g,{height:"100%"},{default:s(()=>[l(v,null,{default:s(()=>[t[1]||(t[1]=a("div",{class:"dialog-title__text"}," Table ",-1)),a("div",$,[l(n,{class:"btn-close",onClick:t[0]||(t[0]=o=>e.onChanged(!1)),density:"compact"},{default:s(()=>[l(N,{icon:"mdi-close"})]),_:1})])]),_:1}),l(k,null,{default:s(()=>[a("div",L,[a("div",y,[(i(!0),d(T,null,f(e.tableList,o=>(i(),d("div",{class:V({"table-item":!0,selected:e.selectedTable===o.tableName}),onClick:()=>e.selectTable(o.tableName)},[a("div",P," ["+p(o.tableName)+"] "+p(o.customerName),1)],10,S))),256)),a("div",A,[l(n,{variant:"text","prepend-icon":"mdi-plus",color:"primary",onClick:e.openAddNewTablePopup},{default:s(()=>t[2]||(t[2]=[r(" Add new table ")])),_:1},8,["onClick"])])]),e.selectedTable?(i(),d("div",I,[a("div",D,[e.selectedTable?(i(),_(m,{key:0,items:e.currentTableBill},null,8,["items"])):c("",!0)]),a("div",F,[l(n,{color:"primary",onClick:e.bringToHomeScreen},{default:s(()=>t[3]||(t[3]=[r("Charge")])),_:1},8,["onClick"])])])):c("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])])}const Q=C(B,[["render",H],["__scopeId","data-v-0697ed81"]]);export{Q as default};
