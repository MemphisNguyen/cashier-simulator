import{_ as b}from"./BillItemTable-DUXBlubs.js";import{u as m}from"./app-BHEqaD6V.js";import{d as h,o,b as d,a as l,w as s,e as a,F as T,h as f,g as u,t as n,f as r,c as _,n as V}from"./index-Bhu2MBT2.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{e as g,V as v,a as c,b as N,c as k}from"./forwardRefs-DtulCRCk.js";import{V as w}from"./VDialog-BE3_3SQG.js";const B=h({name:"TablePopup",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","close","addNew"],data(){return{selectedTable:null,newTableName:""}},computed:{appStore:()=>m(),tableList(){return this.appStore.tableList},currentTableBill(){return this.selectedTable?this.tableList[this.selectedTable].itemList??{}:{}}},watch:{modelValue(e){e||(this.selectedTable=null,this.newTableName="")}},methods:{onChanged(e){this.$emit("update:modelValue",e),e===!1&&this.$emit("close")},selectTable(e){this.selectedTable=e},openAddNewTablePopup(){this.$emit("addNew")},bringToHomeScreen(){this.selectedTable&&this.tableList[this.selectedTable]&&(this.appStore.setCurrentBill(this.tableList[this.selectedTable]),this.$emit("close"))}}}),L={class:"dialog-title__actions"},$={class:"table-view"},y={class:"table-list"},z=["onClick"],S={class:"title"},P={class:"p-2 text-center"},A={key:0,class:"table-bill"},I={class:"table-bill-items"},D={key:0},F={class:"table-bill-actions"};function H(e,t,U,E,j,q){const p=b;return o(),d("div",null,[l(w,{class:"popup-dialog",height:"100%",modelValue:e.modelValue,"onUpdate:modelValue":e.onChanged},{default:s(()=>[l(g,{height:"100%"},{default:s(()=>[l(v,null,{default:s(()=>[t[1]||(t[1]=a("div",{class:"dialog-title__text"}," Table ",-1)),a("div",L,[l(c,{class:"btn-close",onClick:t[0]||(t[0]=i=>e.onChanged(!1)),density:"compact"},{default:s(()=>[l(N,{icon:"mdi-close"})]),_:1})])]),_:1}),l(k,null,{default:s(()=>[a("div",$,[a("div",y,[(o(!0),d(T,null,f(e.tableList,i=>(o(),d("div",{class:V({"table-item":!0,selected:e.selectedTable===i.tableName}),onClick:()=>e.selectTable(i.tableName)},[a("div",S," ["+n(i.tableName)+"] "+n(i.customerName),1)],10,z))),256)),a("div",P,[l(c,{variant:"text","prepend-icon":"mdi-plus",color:"primary",onClick:e.openAddNewTablePopup},{default:s(()=>t[2]||(t[2]=[u(" Add new table ")])),_:1},8,["onClick"])])]),e.selectedTable?(o(),d("div",A,[a("div",I,[e.tableList[e.selectedTable].buzzerNumber!=null?(o(),d("div",D,"Buzzer #"+n(e.tableList[e.selectedTable].buzzerNumber),1)):r("",!0),e.selectedTable?(o(),_(p,{key:1,items:e.currentTableBill},null,8,["items"])):r("",!0)]),a("div",F,[l(c,{color:"primary",onClick:e.bringToHomeScreen},{default:s(()=>t[3]||(t[3]=[u("Charge")])),_:1},8,["onClick"])])])):r("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])])}const R=C(B,[["render",H],["__scopeId","data-v-8cf65a95"]]);export{R as default};
